<section class="ui form">
  <div class="{{ FILTER_MANANGER_CLASSNAME }}__header">
    <h2 class="ui header">Filters:</h2>
    <button
      class="{{
        FILTER_MANANGER_CLASSNAME
      }}__reset ui button color-white bg-color-red  margin-0"
      type="button"
      (click)="onReset()"
    >
      Reset
    </button>
  </div>
  <div #applied class="filter-manager__applied ui field">
    <nx-bridge-filter-manager-item
      *ngFor="let filterItem of filterItems | keyvalue; let i = index;"
      [filterItem]="filterItem.value"
      [filterItemKey]="filterItem.key"
      [indexOfItem]="i"
      (deletion)="onFilterItemDeletion($event)"
    ></nx-bridge-filter-manager-item>
  </div>
  <div class="{{ FILTER_MANANGER_CLASSNAME }}__options field">
    <label>
      <input #date (click)="onDateClick($event)" type="checkbox" />
      Date
    </label>
    <label>
      <input #player (click)="onPlayerClick($event)" type="checkbox" />
      Player
    </label>
    <label>
      <input #game (click)="onGameClick($event)" type="checkbox" />
      Game
    </label>
  </div>

  <div class="{{ FILTER_MANANGER_CLASSNAME }}__details">
    <div *ngIf="date.checked" class="{{ FILTER_MANANGER_CLASSNAME }}__date">
      <label>
        Completed after:
        <input
          #afterDate
          id="afterDate"
          (change)="onDateAfterChange($event)"
          type="datetime-local"
        />
      </label>
      <label>
        Completed before:
        <input
          #beforeDate
          id="beforeDate"
          (change)="onDateBeforeChange($event)"
          type="datetime-local"
        />
      </label>
    </div>

    <div
      *ngIf="player.checked === true"
      class="{{ FILTER_MANANGER_CLASSNAME }}__player"
    >
      <span>Username:</span>
      <select
        #players
        class="{{ joinedInputErrorClassnames }}"
      >
        <option *ngFor="let playerName of playerNames; let i = index">
          {{ playerName }}
        </option>
      </select>
      <span>&nbsp;had the&nbsp;</span>
      <select
        class="{{ joinedInputErrorClassnames }}"
        #cards
        class=""
      >
        <option
          *ngFor="let cardAsNumber of cardsAsNumbers; let i = index"
          innerHTML="{{ cardAsNumber | cardAsNumberToCardHtmlEntityString }}"
          [ngClass]="{
            'color-red': i >= 14 && i <= 39,
            'color-black': i < 14 || i > 39,
            'filter-manager__player-options': true
          }"
          [value]="i - 1"
        ></option>
      </select>
      <button
        (click)="onPlayerHasCardClick($event)"
        class="ui button filter-manager__player-has-card-button">Add</button>
    </div>
    <div *ngIf="game.checked === true">Game details</div>
  </div>
</section>
